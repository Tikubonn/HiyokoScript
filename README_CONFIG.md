
# ひよこすくりぷとの設定ファイル説明書

ひよこすくりぷとは同梱されている設定ファイルを編集することで、さまざまな機能を変更することができます。
設定ファイルはJSON形式で書かれているため、編集には最低限JSONの知識が必要になります。
こちらのページでは設定を編集するにあたって、覚えておきたい最低限の設定項目を紹介したいと思います。

* [新たに人物を追加する](#新たに人物を追加する)
  * [新たに声を追加する](#新たに声を追加する)
    * [新たに声を追加する(VOICEVOX)](#新たに声を追加するvoicevox)
    * [新たに声を追加する(AssistantSeika)](#新たに声を追加するassistantseika)
    * [新たに声を追加する(SofTalk)](#新たに声を追加するsoftalk)
    * [新たに声を追加する(コピー)](#新たに声を追加する(コピー))
  * [人物に立ち絵を設定する](#人物に立ち絵を設定する)
    * [人物に立ち絵を設定する (静止画)](#人物に立ち絵を設定する静止画)
    * [人物に立ち絵を設定する (PSDToolKit 0.2)](#人物に立ち絵を設定するpsdtoolkit-02)
    * [人物に立ち絵を設定する (PSDToolKit 0.1.3)](#人物に立ち絵を設定するpsdtoolkit-013)
* [VOICEVOXとの連携を設定する](#voicevoxとの連携を設定する)
* [AssistantSeikaとの連携を設定する](#assistantseikaとの連携を設定する)
* [SofTalkとの連携を設定する](#softalkとの連携を設定する)
* [設定ファイルをインポートする](#設定ファイルをインポートする)
  * [ずんだもん(立ち絵:坂本あひる)](#ずんだもんjson立ち絵坂本あひる)
  * [四国めたん(立ち絵:坂本あひる)](#四国めたんjson立ち絵坂本あひる)
  * [春日部つむぎ(立ち絵:坂本あひる)](#春日部つむぎjson立ち絵坂本あひる)
  * [九州そら(立ち絵:坂本あひる)](#九州そらjson立ち絵坂本あひる)
  * [雨晴はう(立ち絵:坂本あひる)](#雨晴はうjson立ち絵坂本あひる)
  * [結月ゆかり.json(立ち絵:MtU)](#結月ゆかりjson立ち絵mtu)
  * [弦巻マキ.json(立ち絵:MtU)](#弦巻マキjson立ち絵mtu)
  * [紲星あかり.json(立ち絵:MtU)](#紲星あかりjson立ち絵mtu)
* [立ち絵ポストプロセッサー](#立ち絵ポストプロセッサー)
  * [もにゅもにゅ](#もにゅもにゅ)
  * [自動もにゅもにゅ](#自動もにゅもにゅ)
  * [ぴょんぴょん](#ぴょんぴょん)
  * [自動ぴょんぴょん](#自動ぴょんぴょん)
  * [ぐにゃぐにゃ](#ぐにゃぐにゃ)
* [音声ポストプロセッサー](#音声ポストプロセッサー)
  * [口パク準備(PSDToolKit 0.2)](#口パク準備psdtoolkit-0.2)
  * [口パク準備(PSDToolKit 0.1.3)](#口パク準備psdtoolkit-0.1.3)
* [オブジェクトの生成](#オブジェクトの生成)
  * [背景色](#背景色) 
  * [背景画像](#背景画像) 
  * [背景動画](#背景動画) 
  * [シネマスコープ](#シネマスコープ) 
  * [字幕](#字幕) 
  * [SE](#SE) 
  * [BGM](#BGM) 
* [動画のサイズ・フレームレート・音声周波数を変更する](#動画のサイズ・フレームレート・音声周波数を変更する)
* [検索パスを追加する](#検索パスを追加する)
* [音声ファイルの保存先を変更する](#音声ファイルの保存先を変更する)

## 新たに人物を追加する

ひよこすくりぷとに人物を追加するには`speakers`の項目を編集します。
設定ファイルに人物を追加すると、ひよこすくりぷと実行時`@人物名`で立ち絵を表示させることができるようになります。

上記の例では、人物の辞書に「ずんだもん」という名前の人物を追加します。
ただし、まだ声設定・立ち絵設定ともに未設定のため、このままでは何の意味もありません。

```json
{
  "speakers": {
    "ずんだもん": { //人物設定
    },
  },
}
```

追加した人物に声設定を追加するには[新たに声を追加する](#新たに声を追加する)の項を、
立ち絵設定を追加するには[新たに立ち絵を追加する](#新たに立ち絵を追加する)の項をご参照ください。

## 新たに声を追加する

人物に声設定を追加するには`speakers.人物名.voices`の項目を編集します。
人物に声設定を追加すると、ひよこすくりぷと実行時`#声設定名`でその声で読み上げさせることができるようになります。

上記の例では、人物「ずんだもん」に声設定「ずん」を追加しています。

```json
{
  "speakers": {
    "ずんだもん": { //人物設定
      "voices": {
        "ずん": { //声設定
          "type": "voicevox",
          "name": "ずんだもん",
        },
      },
    },
  },
}
```

ひよこすくりぷとはこれらの音声合成ソフト(補助ソフト)に対応しています。
それぞれのソフトウェアによって設定項目が異なるので、詳細は各項をご参照ください。

* [VOICEVOX](#新たに声を追加するvoicevox)
* [AssistantSeika](#新たに声を追加するassistantseika)
* [SofTalk](#新たに声を追加するsoftalk)

### 新たに声を追加する(VOICEVOX)

VOICEVOXは無料で使用可能な合成音声ソフトです。
代表的なキャラクターに「ずんだもん」「春日部つむぎ」「四国めたん」があります。

人物にVOICEVOXの声を設定するには、`type`に`voicevox`を、`name`にキャラクター名を指定します。
上記の例では、ごく普通のずんだもんの声を声設定「ずん」に設定しています。

*注意:ひよこすくりぷとでVOICEVOXを使用する際には、事前にVOICEVOXを起動している必要があります。
これができていないとひよこすくりぷと実行中にエラーが発生する可能性がございます。*

```json
{
  "speakers": {
    "ずんだもん": { 
      "voices": {
        "ずん": { 
          "type": "voicevox",
          "name": "ずんだもん", //キャラクター
          "style": "ノーマル", //スタイル:省略可
          "speed_scale": 1.0, //話速:省略可(0.5 ~ 2.0)
          "pitch_scale": 0.0, //声高:省略可(-0.15 ~ 0.15)
          "intonation_scale": 1.0, //抑揚:省略可(0.0 ~ 2.0)
          "volume_scale": 1.0, //音量:省略可(0.0 ~ 2.0)
        },
      },
    },
  },
}
```

### 新たに声を追加する(AssistantSeika)

AssistantSeikaはプログラムとさまざまな合成音声ソフトの橋渡しをしてくれるソフトウェアです。
このソフトウェアを経由することで、ひよこすくりぷとはVOICEROID/CeVIO/A.I.VOICE等の合成音声ソフトと連携することができます。

人物にAssistantSeikaの声を設定するには、`type`に`assistant_seika`、`name`にキャラクター名を指定します。
上記の例では、怒り気味のゆかりさんの声を声設定「ゆか」に設定しています。

*注意:ひよこすくりぷとでAssistantSeikaを使用する際には、事前にAssistantSeikaを起動し、製品スキャンを済ませている必要があります。
これができていないとひよこすくりぷと実行中にエラーが発生する可能性がございます。*

```json
{
  "speakers": {
    "ゆかりさん": {
      "voices": {
        "ゆか": {
          "type": "assistant_seika",
          "name": "結月ゆかり", //キャラクター
          "volume": 1.0, //音量:省略可(値の範囲は合成音声ソフトにより異なります)
          "speed": 1.0, //話速:省略可(値の範囲は合成音声ソフトにより異なります)
          "pitch": 1.0, //高さ:省略可(値の範囲は合成音声ソフトにより異なります)
          "alpha": 1.0, //声質:省略可(値の範囲は合成音声ソフトにより異なります)
          "intonation": null, //抑揚:省略可(値の範囲は合成音声ソフトにより異なります)
          "emotions": { //感情パラメタ:省略可(値の範囲は合成音声ソフトにより異なります)
            "怒り": 0.5, 
          },
        },
      },
    },
  },
}
```

### 新たに声を追加する(SofTalk)

SofTalkはゆっくり音声としてしられる合成音声ソフトのひとつです。

人物にSofTalkの声を設定するには、`type`に`softalk`、`name`または`preset`にキャラクター名を指定します。
上記の例では、ゆっくり霊夢的な声を声設定「れい」に設定しています。

```json
{
  "speakers": {
    "れいむ": {
      "voices": {
        "れい": {
          "type": "softalk",
          "name": "女性1", //声名
          "preset": "ゆっくり霊夢", //SofTalkに保存されたプリセット名、両方指定されていればこちらが優先される
          "volume": 1.0, //音量:省略可(0.0 ~ 1.0)
          "speed": 1.0, //音量:省略可(0.0 ~ 3.0)
          "pitch": 1.0, //音量:省略可(0.0 ~ 2.5)
        },
      },
    },
  },
}
```

### 新たに声を追加する(コピー)

おなじ声設定を使いまわすことができるよう、ひよこすくりぷとには声設定を複製する機能が搭載されています。

人物に複製された声設定を設定するには、`type`に`copy`、`voice`に複製したい声設定名を指定します。
なお、自分自身を参照させてしまうと、処理が無限ループに突入し、エラーが発生してしまう可能性があるのでご注意ください。

```json
{
  "speakers": {
    "ずんだもん": {
      "voices": {
        "ずん": {
          "type": "voicevox",
          "name": "ずんだもん",
        },
        "ずんこぴ": {
          "type": "copy",
          "voice": "ずん", //コピーする声設定
        },
      },
    },
  },
}
```

### 人物に立ち絵を設定する

人物に立ち絵設定を追加するには`speakers.人物名.voices.声設定名.graphic`の項目を編集します。
人物に立ち絵設定を追加すると、ひよこすくりぷと実行時`@人物名`で立ち絵を表示させることができるようになります。

上記の例では、人物「ずんだもん」に静止画の立ち絵を追加しています。

```json
{
  "speakers": {
    "ずんだもん": { 
      "voices": {
        "ずん": { 
          "type": "voicevox",
          "name": "ずんだもん", 
          "graphic": { //立ち絵設定
            "type": "simple",
            "default": true, //沈黙時に表示するかどうか
            "src": "ずんだもん.png",
          },
        },
      },
    },
  },
}
```

ひよこすくりぷとはこれらの立ち絵表示に対応しています。
それぞれの表示方法によって設定項目が異なるので、詳細は各項をご参照ください。

* [静止画](#人物に立ち絵を設定する静止画)
* [PSDToolKit 0.2](#人物に立ち絵を設定するpsdtoolkit-02)
* [PSDToolKit 0.1.3](#人物に立ち絵を設定するpsdtoolkit-013)

### 人物に立ち絵を設定する(静止画)

人物に静止画の立ち絵を設定するには、`type`に`simple`、`src`に静止画のパス名もしくはファイル名を指定します。
たとえファイル名だけであっても、`search_paths`が適切に設定されていれば、ひよこすくりぷとは自動的にファイルを検索し、パス名を自動取得してくれます。
上記の例では、ずんだもんに静止画の立ち絵「ずんだもん.png」を設定しています。

```json
{
  "speakers": {
    "ずんだもん": { 
      "voices": {
        "ずん": { 
          "type": "voicevox",
          "name": "ずんだもん", 
          "graphic": { 
            "type": "simple",
            "default": true, //沈黙時に表示するか:省略可
            "src": "ずんだもん.png", //静止画ファイル
            "x": 0, //X座標:省略可
            "y": 0, //Y座標:省略可
            "scale": 1.0, //拡大率:省略可(0.0 ~)
          },
        },
      },
    },
  },
}
```

### 人物に立ち絵を設定する(PSDToolKit 0.2)

PSDToolKitはAviUtlでPSDファイルを表示することができるプラグインです。
ひよこすくりぷとはこのプラグインと、それが提供する目パチ・口パク機能に対応しています。

人物にPSDToolKitの立ち絵を設定するには、`type`に`simple`、`src`にPSDファイルのパス名もしくはファイル名を指定します。
たとえファイル名だけであっても、`search_paths`が適切に設定されていれば、ひよこすくりぷとは自動的にファイルを検索し、パス名を自動取得してくれます。
上記の例では、ずんだもんにPSDの立ち絵「ずんだもん立ち絵素材2.2.psd」を設定しています。

```json
{
  "speakers": {
    "ずんだもん": {
      "voices": {
        "ずん": {
          "type": "voicevox",
          "name": "ずんだもん",
          "graphic": {
            "type": "psdtoolkit_0.2",
            "default": true, //沈黙時に表示するか:省略可
            "src": "ずんだもん立ち絵素材2.2.psd", //PSDファイル
            "x": 0, //X座標:省略可
            "y": 0, //Y座標:省略可
            "scale": 1.0, //拡大率:省略可(0.0 ~)
            "layer_visibles": { //レイヤー可視情報:省略可
              "*服装1/!右腕/*手を挙げる": true,
              "*服装1/!左腕/*手を挙げる": true,
            },
            "blink": { //まばたき設定:省略可
              "a": "!目/*目セット/!黒目/*普通目", //開き目レイヤー
              "e": "!目/*UU", //閉じ目レイヤー
            },
            "lipsync": { //口パク設定:省略可
              "reference_layer": 30, //口パク準備のレイヤー番号:省略可
              "a": "!口/*ほあー", //開き口レイヤー
              "b": "!口/*ほー",
              "e": "!口/*むふ", //閉じ口レイヤー
            },
          },
        },
      },
    },
  },
}
```

*`lipsync.reference_layer`は参照する口パク準備オブジェクトのレイヤー番号を指定する項目ですが、口パク準備オブジェクトをそのレイヤーに生成させるわけではありません。
そのため、口パク機能を使いたい場合には、スクリプト実行後に、生成された口パク準備オブジェクトをそのレイヤーまで移動させる必要があります。*

### 人物に立ち絵を設定する(PSDToolKit 0.1.3)

PSDToolKitはAviUtlでPSDファイルを表示することができるプラグインです。
ひよこすくりぷとはこのプラグインと、それが提供する目パチ・口パク機能に対応しています。

*注意:こちらは開発者（ちくぼん）が間違えてダウンロードしたのをきっかけに、ついでに対応しただけなので、将来的には削除される可能性があります。*

人物にPSDToolKitの立ち絵を設定するには、`type`に`simple`、`src`にPSDファイルのパス名もしくはファイル名を指定します。
たとえファイル名だけであっても、`search_paths`が適切に設定されていれば、ひよこすくりぷとは自動的にファイルを検索し、パス名を自動取得してくれます。
上記の例では、ずんだもんにPSDの立ち絵「ずんだもん立ち絵素材2.2.psd」を設定しています。

```json
{
  "speakers": {
    "ずんだもん": {
      "voices": {
        "ずん": {
          "type": "voicevox",
          "name": "ずんだもん",
          "graphic": {
            "type": "psdtoolkit_0.1.3",
            "default": true, //沈黙時に表示するか:省略可
            "src": "ずんだもん立ち絵素材2.2.psd", //PSDファイル
            "x": 0, //X座標:省略可
            "y": 0, //Y座標:省略可
            "scale": 1.0, //拡大率:省略可(0.0 ~)
            "layer_visibles": { //レイヤー可視情報:省略可
              "!口/*むふ": true,
              "*服装1/!右腕/*手を挙げる": true,
              "*服装1/!左腕/*手を挙げる": true,
            },
            "blink": { //まばたき設定:省略可
              "m4": { //閉目時のレイヤー可視情報:省略可
                "!目/*UU": true,
              },
            },
            "lipsync": { //口パク設定:省略可
              "reference_layer": 30, //口パク準備のレイヤー番号:省略可
              "m4": { //開口時のレイヤー可視情報:省略可
                "!口/*ほあー": true,
              },
            },
          },
        },
      },
    },
  },
}
```

*`lipsync.reference_layer`は参照する口パク準備オブジェクトのレイヤー番号を指定する項目ですが、口パク準備オブジェクトをそのレイヤーに生成させるわけではありません。
そのため、口パク機能を使いたい場合には、スクリプト実行後に、生成された口パク準備オブジェクトをそのレイヤーまで移動させる必要があります。*

### 人物に立ち絵を設定する(コピー)

おなじ声設定を使いまわすことができるよう、ひよこすくりぷとには声設定を複製する機能が搭載されています。

人物に複製された声設定を設定するには、`type`に`copy`、`voice`に複製したい声設定名を指定します。
なお、自分自身を参照させてしまうと、処理が無限ループに突入し、エラーが発生してしまう可能性があるのでご注意ください。

```json
{
  "speakers": {
    "ずんだもん": {
      "voices": {
        "ずん": {
          "type": "voicevox",
          "name": "ずんだもん",
          "graphic": {
            "type": "simple",
            "default": true,
            "src": "ずんだもん.png"
          },
        },
        "ずんこぴ": {
          "type": "voicevox",
          "name": "ずんだもん",
          "graphic": {
            "type": "copy",
            "voice": "ずん", //コピーする立ち絵設定(defaultはコピーされない)
          },
        },
      },
    },
  },
}
```

## VOICEVOXの連携を設定する

VOICEVOXは無料で使用可能な合成音声ソフトです。
代表的なキャラクターに「ずんだもん」「春日部つむぎ」「四国めたん」があります。

VOICEVOXの連携の設定を変更するには`voicevox`の項目を編集します。
とはいえ、基本的にデフォルトのままでもちゃんと動作するはずなので、編集する必要はないと思います。

```json
{
  "voicevox": {
    "host": "localhost",
    "port": 50021,
  },
}
```

## AssistantSeikaの連携を設定する

AssistantSeikaはプログラムとさまざまな合成音声ソフトの橋渡しをしてくれるソフトウェアです。
このソフトウェアを経由することで、ひよこすくりぷとはVOICEROID/CeVIO/A.I.VOICE等の合成音声ソフトと連携することができます。

ひよこすくりぷととAssistantSeikaを連携させるには`assistant_seika.seika_say2_exe_file`に`SeikaSay2.exe`のパス名を指定してください。

```json
{
  "assistant_seika": {
    "seika_say2_exe_file": "SeikaSay2.exeのパス名",
  },
}
```

## SofTalkの連携を設定する

SofTalkはゆっくり音声としてしられる合成音声ソフトのひとつです。

ひよこすくりぷととSofTalkを連携させるには`softalk.softalkw_exe_file`に`softalkw.exe`のパス名を指定してください。

```json
{
  "softalk": {
    "softalkw_exe_file": "softalkw.exeのパス名",
  },
}
```

## 設定ファイルをインポートする

ひよこすくりぷとは設定ファイルを分割して読み込むことができます。
分割した設定ファイルを読み込むには`imports`の項目にそれらのパスを指定してください。

```json
{
  "imports": [
    "インポートするファイル.json",
  ],
}
```

ひよこすくりぷとはダウンロード後すぐに、高品質な立ち絵が使えるよう、これらの設定ファイルを同梱しています。
これらの設定ファイルをインポートすることで、一から編集するよりも簡単に立ち絵・声設定を追加することができます。
設定ファイルによってインポートの手順が異なっていたりするので、詳細は各項をご参照ください（敬称略）。

* [ずんだもん.json(立ち絵:坂本あひる)](#ずんだもんjson立ち絵坂本あひる)
* [四国めたん.json(立ち絵:坂本あひる)](#四国めたんjson立ち絵坂本あひる)
* [春日部つむぎ.json(立ち絵:坂本あひる)](#春日部つむぎjson立ち絵坂本あひる)
* [九州そら.json(立ち絵:坂本あひる)](#九州そらjson立ち絵坂本あひる)
* [雨晴はう.json(立ち絵:坂本あひる)](#雨晴はうjson立ち絵坂本あひる)
* [結月ゆかり.json(立ち絵:MtU)](#結月ゆかりjson立ち絵mtu)
* [弦巻マキ.json(立ち絵:MtU)](#弦巻マキjson立ち絵mtu)
* [紲星あかり.json(立ち絵:MtU)](#紲星あかりjson立ち絵mtu)

### ずんだもん.json(立ち絵:坂本あひる)

https://user-images.githubusercontent.com/7812951/173232022-0a3f196e-e92b-468b-8511-be700b2d2cbb.mp4

[ずんだもん.json](./config/psdtoolkit-0.2/坂本あひる/ずんだもん.json)はVOICEVOX:ずんだもんの声と坂本あひる先生の立ち絵が設定された設定ファイルです。
当然ですが、立ち絵ファイルは同梱されていないので、インポート後`search_paths`にPSDファイルの置かれたフォルダを指定する必要があります。

```json
{
  "imports": [
    "./config/psdtoolkit-0.2/坂本あひる/ずんだもん.json",
  ],
  "search_paths": [
    "PSDファイルの置かれたフォルダのパス",
  ],
}
```

立ち絵はこちらのウェブページにて配布されています。

https://seiga.nicovideo.jp/seiga/im10788496

### 四国めたん.json(立ち絵:坂本あひる)

https://user-images.githubusercontent.com/7812951/173232043-7e5ff976-0c59-499f-ba10-93855eb0b715.mp4

[四国めたん.json](./config/psdtoolkit-0.2/坂本あひる/四国めたん.json)はVOICEVOX:四国めたんの声と坂本あひる先生の立ち絵が設定された設定ファイルです。
当然ですが、立ち絵ファイルは同梱されていないので、インポート後`search_paths`にPSDファイルの置かれたフォルダを指定する必要があります。

```json
{
  "imports": [
    "./config/psdtoolkit-0.2/坂本あひる/四国めたん.json",
  ],
  "search_paths": [
    "PSDファイルの置かれたフォルダのパス",
  ],
}
```

立ち絵はこちらのウェブページにて配布されています。

https://seiga.nicovideo.jp/seiga/im10791276

### 春日部つむぎ.json(立ち絵:坂本あひる)

https://user-images.githubusercontent.com/7812951/173232056-3043a444-8d59-4d62-ab4e-7774e9d676c3.mp4

[春日部つむぎ.json](./config/psdtoolkit-0.2/坂本あひる/春日部つむぎ.json)はVOICEVOX:春日部つむぎの声と坂本あひる先生の立ち絵が設定された設定ファイルです。
当然ですが、立ち絵ファイルは同梱されていないので、インポート後`search_paths`にPSDファイルの置かれたフォルダを指定する必要があります。

```json
{
  "imports": [
    "./config/psdtoolkit-0.2/坂本あひる/春日部つむぎ.json",
  ],
  "search_paths": [
    "PSDファイルの置かれたフォルダのパス",
  ],
}
```

立ち絵はこちらのウェブページにて配布されています。

https://seiga.nicovideo.jp/seiga/im10849150

### 九州そら.json(立ち絵:坂本あひる)

https://user-images.githubusercontent.com/7812951/173232067-84d41f7f-b1ba-4d04-9bbb-b7474f1b90c6.mp4

[九州そら.json](./config/psdtoolkit-0.2/坂本あひる/九州そら.json)はVOICEVOX:九州そらの声と坂本あひる先生の立ち絵が設定された設定ファイルです。
当然ですが、立ち絵ファイルは同梱されていないので、インポート後`search_paths`にPSDファイルの置かれたフォルダを指定する必要があります。

```json
{
  "imports": [
    "./config/psdtoolkit-0.2/坂本あひる/九州そら.json",
  ],
  "search_paths": [
    "PSDファイルの置かれたフォルダのパス",
  ],
}
```

立ち絵はこちらのウェブページにて配布されています。

https://seiga.nicovideo.jp/seiga/im10924061

### 雨晴はう.json(立ち絵:坂本あひる)

https://user-images.githubusercontent.com/7812951/173232080-8844531d-59b8-4fbf-840a-3a4254495d30.mp4

[雨晴はう.json](./config/psdtoolkit-0.2/坂本あひる/雨晴はう.json)はVOICEVOX:雨晴はうの声と坂本あひる先生の立ち絵が設定された設定ファイルです。
当然ですが、立ち絵ファイルは同梱されていないので、インポート後`search_paths`にPSDファイルの置かれたフォルダを指定する必要があります。

```json
{
  "imports": [
    "./config/psdtoolkit-0.2/坂本あひる/雨晴はう.json",
  ],
  "search_paths": [
    "PSDファイルの置かれたフォルダのパス",
  ],
}
```

立ち絵はこちらのウェブページにて配布されています。

https://seiga.nicovideo.jp/seiga/im10880094

### 結月ゆかり.json(立ち絵:MtU)

https://user-images.githubusercontent.com/7812951/173232103-65f106ae-2e5b-4ac6-ac79-b2cd8b989592.mp4

[結月ゆかり.json](./config/psdtoolkit-0.2/MtU/結月ゆかり.json)はVOICEROID2:結月ゆかりの声とMtU先生の立ち絵が設定された設定ファイルです。
当然ですが、立ち絵ファイルは同梱されていないので、インポート後`search_paths`にPSDファイルの置かれたフォルダを指定する必要があります。

```json
{
  "imports": [
    "./config/psdtoolkit-0.2/MtU/結月ゆかり.json",
  ],
  "search_paths": [
    "PSDファイルの置かれたフォルダのパス",
  ],
}
```

立ち絵はこちらのウェブページにて配布されています。

https://seiga.nicovideo.jp/seiga/im8124707

### 弦巻マキ.json(立ち絵:MtU)

https://user-images.githubusercontent.com/7812951/173232109-0afc0c35-c1c6-4730-999c-a50f3f91ff3a.mp4

[弦巻マキ.json](./config/psdtoolkit-0.2/MtU/弦巻マキ.json)はVOICEROID2:弦巻マキの声とMtU先生の立ち絵が設定された設定ファイルです。
当然ですが、立ち絵ファイルは同梱されていないので、インポート後`search_paths`にPSDファイルの置かれたフォルダを指定する必要があります。

```json
{
  "imports": [
    "./config/psdtoolkit-0.2/MtU/弦巻マキ.json",
  ],
  "search_paths": [
    "PSDファイルの置かれたフォルダのパス",
  ],
}
```

立ち絵はこちらのウェブページにて配布されています。

https://seiga.nicovideo.jp/seiga/im8145281

### 紲星あかり.json(立ち絵:MtU)

https://user-images.githubusercontent.com/7812951/173232118-523153c8-00d1-4960-9f23-5f0ffadc2869.mp4

[紲星あかり.json](./config/psdtoolkit-0.2/MtU/紲星あかり.json)はVOICEROID2:紲星あかりの声とMtU先生の立ち絵が設定された設定ファイルです。
当然ですが、立ち絵ファイルは同梱されていないので、インポート後`search_paths`にPSDファイルの置かれたフォルダを指定する必要があります。

```json
{
  "imports": [
    "./config/psdtoolkit-0.2/MtU/紲星あかり.json",
  ],
  "search_paths": [
    "PSDファイルの置かれたフォルダのパス",
  ],
}
```

立ち絵はこちらのウェブページにて配布されています。

https://seiga.nicovideo.jp/seiga/im8013511

## 立ち絵ポストプロセッサー

`graphic_postprocessors`を編集することで、人物の立ち絵に特殊効果を追加することができます。
この項目はリストになっており、上から順に効果が適用されます。

```json
{
  "graphic_postprocessors": [
    {
      "type": "bounce", 
      "crash_ratio": 1.05, 
      "interval": 0.5, 
    },
    {
      "type": "bounce_at_speaking", 
      "crash_ratio": 1.05, 
      "interval": 0.5, 
    },
  ]
}
```

ひよこすくりぷとはこれらの立ち絵ポストプロセッサーを搭載しています。
余談ですが、[ひよこすくりぷとの文法説明書](./README_SYNTAX.md)で紹介された`$もにゅもにゅ`などの機能はこちらの項目から追加されています。
したがって、この項目からそれらを削除してしまうと、それらの機能が使えなくなってしまうので注意が必要です。

* [もにゅもにゅ](#もにゅもにゅ)
* [自動もにゅもにゅ](#自動もにゅもにゅ)
* [ぴょんぴょん](#ぴょんぴょん)
* [自動ぴょんぴょん](#自動ぴょんぴょん)
* [ぐにゃぐにゃ](#ぐにゃぐにゃ)

### もにゅもにゅ

もにゅもにゅはひよこすくりぷとが試験的に搭載した立ち絵ポストプロセッサーです。
細かい動作などは変数`$もにゅもにゅ`などで制御します。

```json
{
  "graphic_postprocessors": [
    {
      "type": "bounce", 
      "crash_ratio": 1.05, //変形比:省略可(0.0 ~ 2.0)
      "interval": 0.5, //変形周期:省略可(0.0 ~)
    },
  ]
}
```

### 自動もにゅもにゅ

自動もにゅもにゅはひよこすくりぷとが試験的に搭載した立ち絵ポストプロセッサーです。
細かい動作などは変数`$自動もにゅもにゅ`などで制御します。

```json
{
  "graphic_postprocessors": [
    {
      "type": "bounce_at_speaking", 
      "crash_ratio": 1.05, //変形比:省略可(0.0 ~ 2.0)
      "interval": 0.5, //変形周期:省略可(0.0 ~)
    },
  ]
}
```

### ぴょんぴょん

ぴょんぴょんはひよこすくりぷとが試験的に搭載した立ち絵ポストプロセッサーです。
細かい動作などは変数`$ぴょんぴょん`などで制御します。

```json
{
  "graphic_postprocessors": [
    {
      "type": "hopping", 
      "crash_ratio": 1.05, //変形比:省略可(0.0 ~ 2.0)
      "height": 50, //ジャンプの高さ:省略可(0.0 ~)
      "interval": 0.5, //変形周期:省略可(0.0 ~)
    },
  ],
}
```

### 自動ぴょんぴょん

自動ぴょんぴょんはひよこすくりぷとが試験的に搭載した立ち絵ポストプロセッサーです。
細かい動作などは変数`$自動ぴょんぴょん`などで制御します。

```json
{
  "graphic_postprocessors": [
    {
      "type": "hopping_at_speaking", 
      "crash_ratio": 1.05, //変形比:省略可(0.0 ~ 2.0)
      "height": 50, //ジャンプの高さ:省略可(0.0 ~)
      "interval": 0.5, //変形周期:省略可(0.0 ~)
    },
  ]
}
```

### ぐにゃぐにゃ

ぐにゃぐにゃはひよこすくりぷとが試験的に搭載した立ち絵ポストプロセッサーです。
細かい動作などは変数`$ぐにゃぐにゃ`などで制御します。

```json
{
  "graphic_postprocessors": [
    {
      "type": "raster", 
      "width": 100, //変形横幅:省略可(0.0 ~)
      "height": 100, //変形縦幅:省略可(0.0 ~)
      "interval": 1.0, //変形周期:省略可(0.0 ~)
    },
  ]
}
```

## 音声ポストプロセッサー

`voice_postprocessors`を編集することで、読み上げ音声に特殊効果を追加することができます。
この項目はリストになっており、上から順に効果が適用されます。

```json
{
  "voice_postprocessors": [
    {
      "type": "psdtoolkit_0.2_lipsync_preparation",
    },
  ],
}
```

ひよこすくりぷとはこれらの音声ポストプロセッサーを搭載しています。

* [口パク準備(PSDToolKit 0.2)](#口パク準備psdtoolkit-0.2)
* [口パク準備(PSDToolKit 0.1.3)](#口パク準備psdtoolkit-0.1.3)

### 口パク準備(PSDToolKit 0.2)

音声ファイルとともに口パク準備オブジェクトを作成させます。
作成される口パク準備オブジェクトは、元となる音声ファイルを参照します。

```json
{
  "voice_postprocessors": [
    {
      "type": "psdtoolkit_0.2_lipsync_preparation",
      "low_cut": 100, //ローカット:省略可(0 ~) 
      "high_cut": 1000, //ハイカット:省略可(0 ~) 
      "threshold": 20, //閾値:省略可(0 ~) 
      "sensitivity": 1, //感度:省略可(0 ~) 
    },
  ],
}
```

### 口パク準備(PSDToolKit 0.1.3)

音声ファイルとともに口パク準備オブジェクトを作成させます。
作成される口パク準備オブジェクトは、元となる音声ファイルを参照します。

```json
{
  "voice_postprocessors": [
    {
      "type": "psdtoolkit_0.1.3_lipsync_preparation",
      "low_cut": 100, //ローカット:省略可(0 ~) 
      "high_cut": 1000, //ハイカット:省略可(0 ~) 
      "threshold": 0.333, //閾値:省略可(0.0 ~) 
    },
  ],
}
```

## オブジェクトの生成

ひよこすくりぷとは音声と立ち絵のみならず、様々なオブジェクトを作成することができます。
オブジェクトの作成機能を有効化するには`background_object_generators`と`foreground_object_generators`の項目を編集します。
音声・立ち絵よりも前景に作成するオブジェクトを`foreground_object_generators`に、
逆に背景に作成するオブジェクトを`background_object_generators`に指定します。

```json
{
  "background_object_generators": [
    {
      "type": "color_background",
    }
  ],
  "foreground_object_generators": [
    {
      "type": "cinema_scope",
      "ratio": 1.33,
    }
  ]
}
```

ひよこすくりぷとは標準でこれらのオブジェクトの作成に対応しています。
余談ですが、[ひよこすくりぷとの文法説明書](./README_SYNTAX.md)で紹介された`$背景色`などの機能はこちらの項目から追加されています。
したがって、この項目からそれらを削除してしまうと、それらの機能が使えなくなってしまうので注意が必要です。

* [背景色](#背景色) 
* [背景画像](#背景画像) 
* [背景動画](#背景動画) 
* [シネマスコープ](#シネマスコープ) 
* [字幕](#字幕) 
* [SE](#SE) 
* [BGM](#BGM) 

### 背景色

```json
{
  "background_object_generators": [
    {
      "type": "color_background",
    }
  ]
}
```

単色でべた塗りされた背景を追加します。
べた塗する色など、スクリプト中に変数によって制御することができます。

### 背景画像

```json
{
  "background_object_generators": [
    {
      "type": "image_background",
      "stretch": true, //全画面表示するか?:省略可
    }
  ]
}
```

画像の背景を追加します。
ただ画像オブジェクトを追加するだけでなく、画面幅に合わせて拡大縮小する機能も搭載されています。
表示する画像や全画面表示の有無など、スクリプト中に変数によって制御することができます。

### 背景動画

```json
{
  "background_object_generators": [
    {
      "type": "video_background",
      "stretch": true, //全画面表示するか?:省略可
      "loop": false, //ループ再生するか?:省略可
    }
  ]
}
```

動画の背景を追加します。
ただ動画オブジェクトを追加するだけでなく、画面幅に合わせて拡大縮小する機能も搭載されています。
表示する動画や全画面表示の有無など、スクリプト中に変数によって制御することができます。

### シネマスコープ

```json
{
  "foreground_object_generators": [
    {
      "type": "cinema_scope",
      "ratio": 1.33, //アスペクト比:省略可(0.0 ~)
      "color": "000000" //字幕色:省略可
    }
  ]
}
```

映画などにある画面上下の暗幕を追加します。

### 字幕

```json
{
  "foreground_object_generators": [
    {
      "type": "subtitle",
      "x": 0, //X座標:省略可
      "y": 316, //Y座標:省略可
      "font": "Meiryo", //フォント:省略可
      "size": 24, //フォントサイズ:省略可
      "color": "ffffff", //フォント色:省略可
    }
  ]
}
```

読み上げた文章をテキストオブジェクトととして作成します。

### SE

```json
{
  "foreground_object_generators": [
    {
      "type": "se",
      "volume": 0.6, //音量:省略可(0.0 ~)
      "direction": 0.0, //左右:省略可(0.0 ~)
      "speed": 1.0, //再生速度:省略可(0.0 ~)
    }
  ]
}
```

### BGM

```json
{
  "foreground_object_generators": [
    {
      "type": "bgm", 
      "volume": 0.3, //音量:省略可(0.0 ~)
      "direction": 0.0, //左右:省略可(-1.0 ~ 1.0)
      "speed": 1.0, //再生速度:省略可(0.0 ~)
      "loop": true, //ループ再生するか?:省略可
    }
  ]
}
```

## 動画のサイズ・フレームレート・音声周波数を変更する

```json
{
  "video": {
    "width": 1280, //横幅px
    "height": 720, //縦幅px
    "frame_rate": 24, //フレーム数/秒
    "scale": 1, 
    "audio_rate": 44100, //音声周波数
    "audio_ch": 2, //音声チャンネル数
  },
}
```

`video`の項目を編集することで、出力されるエクスポートファイルの仕様を変更することができます。

## 検索パスを追加する

```json
{
  "search_paths": [
    "./SampleCharacterGraphic",
    "./SampleBackgroundImage",
    "./SampleBGM",
    "./SampleSE",
  ],
}
```

`search_paths`を編集することで、立ち絵画像や効果音などのファイルの検索先フォルダを変更することができます。

## 音声ファイルの保存先を変更する

```json
{
  "voice_save_dir": "./voice",
}
```

`voice_save_dir`を編集することで、生成した合成音声の保存先を指定することができます。
